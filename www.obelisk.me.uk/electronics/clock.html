<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>PIC Controlled LED Binary Clock</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="StyleSheet" href="../obelisk.css" type="text/css" media="screen,print"/>
</head>
<body>
    <h1>
        Geek Clock</h1>
    <p>
        A while back I was browsing through the <a href="http://www.thinkgeek.com" target="_blank">
            ThinkGeek</a> site when I came across a 'LED Binary Clock' which displayed the
        time using six columns of LEDs showing the hours, minutes and seconds in binary.
        Seconds later the impulse to design and build one from scratch hit.</p>
    <p align="center">
        <img border="0" src="geek-clock/geek-clock.jpg" width="400" height="315"></p>
    <p>
        My design is pretty simple as can be seen in the <a href="geek-clock/clock-sch.gif" target="_blank">
            schematic</a>. The time is kept by a Dallas DS1307 RTC clock connected to a
        MicroChip PIC 16F874A using an I2C bus. The LEDs for the various components of the
        display are driven directly from the PIC using pins on the various ports.</p>
    <p>
        The firmware reads the RTC chip on startup to get the current time and from then
        on uses an interrupt generated by a 1Hz square ware output from the RTC to update
        the time by a second. The push buttons allow you to increment the hours and minutes
        value and write back the changed value to the RTC when released.</p>
    <p>
        The selection of pins on port B is arranged so that wake-up-sleep will occur when
        a button is pressed or the square wave signal interrupts. Pins 6 &amp; 7 are kept
        free for the Microchip ICD2 debugger.</p>
    <p>
        The clock is constructed from two strip boards separated by plastic spacers. A short
        piece of 20 way ribbon cable and a few additional wires connect the upper and lower
        boards.</p>
    <table border="0" width="100%">
        <tr>
            <td width="50%">
                <img border="0" src="geek-clock/geek-upr-top.jpg" width="400" height="304"></td>
            <td width="50%">
                Only the push buttons, resistor networks and LEDs are on the top surface.</td>
        </tr>
        <tr>
            <td width="50%">
                <img border="0" src="geek-clock/geek-upr-bot.jpg" width="400" height="322"></td>
            <td width="50%">
                All the wiring on the upper LED board is on the underside.&nbsp;</td>
        </tr>
    </table>
    <p>
        The lower card contains the power socket, +5V regulator, microcontroller and RTC
        chip. When I built this I was experimenting with solar panels and rechargeable batteries
        as an alternative to a mains supply which is why this board has an additional diode
        and two (green) connectors when compared to the schematic.</p>
    <table border="0" width="100%">
        <tr>
            <td width="50%">
                <img border="0" src="geek-clock/geek-lwr-top.jpg" width="400" height="297"></td>
            <td width="50%">
                The brains (and brawn) behind the circuit.</td>
        </tr>
        <tr>
            <td width="50%">
                <img border="0" src="geek-clock/geek-lwr-bot.jpg" width="400" height="317"></td>
            <td width="50%">
                Some of the LED connections are wired on the underside to keep the spaghetti under
                control.</td>
        </tr>
    </table>
    <p>
        If you click <a href="geek-clock/clock.wmv" target="_blank">here</a> you can see a short Window Media Video
        (WMV) of the clock in operation.</p>
    <h2>
        Source Code</h2>
    <p>
        The following ZIP contains all the PIC assembler need to program the clock as a
        single MPASM project. MPASM tends to put absolute paths in its internal files so
        you may need to rebuild the project before it will assemble.</p>
    <ul>
        <li><a href="geek-clock/geek-clock.zip">Source Code ZIP</a> (11.0Kb)</li>
    </ul>
    <h2>
        Other Binary Clock Links</h2>
    <p>
        Here are some links to other sites that have details on binary clocks you might
        like to look at.</p>
    <ul>
    <li>
        <a href="http://www.pic-projects.net/index.php?option=com_content&view=article&id=51:binary-clock&catid=43:clock-and-timers&Itemid=66" target="_blank">
            PIC-Projects</a></li>
        <li><a href="http://www.sunbizhosting.com/~spiral/binclock/binclock.html" target="_blank">SpiralBrain's
            World</a></li>
    </ul>
    <h2>
        Errata</h2>
    <p>
        A hobby builder in Brazil called Cesar has built his own version of ;this design.
        In the process we discovered a small error in the DS1307 initialisation code (one
        instruction!) which has been updated in the source zip.</p>
    <table border="0" cellpadding="0" cellspacing="0" height="30" width="100%">
        <tr>
            <td bgcolor="#aaaaff" style="height: 30px" width="25%">
                <a href="metronome.html">&lt;&lt; Back</a></td>
            <td bgcolor="#aaaaff" style="height: 30px" width="25%">
                <center>
                    <a href="../index.html" target="_parent">Home</a></center>
            </td>
            <td bgcolor="#aaaaff" style="height: 30px; text-align: center" width="25%">
                <a href="index.html">Contents</a></td>
            <td align="right" bgcolor="#aaaaff" style="height: 30px" width="25%">
                <a href="R6501.html">Next &gt;&gt;</a>
            </td>
        </tr>
    </table>

    <hr />
    <p class="timestamp">
        This page was last updated on 22nd April 2009</p>
    <p class="copyright">
        &copy; Copyright 2009 Andrew John Jacobs. All rights reserved.<br />
        All trademarks and service marks are the properties of their respective owners.</p>
</body>
</html>
